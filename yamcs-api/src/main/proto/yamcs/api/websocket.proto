syntax="proto3";

package yamcs.api;

option java_package = "org.yamcs.protobuf";
option java_outer_classname = "WebSocketProto";
option java_multiple_files = true;

import "google/protobuf/any.proto";

import "yamcs/api/exception.proto";

message ClientMessage {
  uint32 sequenceNumber = 2;
  string resource = 3;
  string operation = 4;
  google.protobuf.Any data = 5;
}

message ServerMessage {

  int32 sequenceNumber = 1; // allow for -1
  
  oneof type {
    google.protobuf.Any reply = 2;
    ExceptionMessage exception = 3;
    google.protobuf.Any data = 4;
  }
}
