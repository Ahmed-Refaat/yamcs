<h6>ID</h6>
<div class="block">
  {{ command.commandId | commandId }}
</div>

<h6>Command</h6>
<div class="block">
  {{ command.commandName }}
</div>

<h6>Time</h6>
<div class="block">
  {{ command.generationTime | datetime }}
</div>

<h6>Issuer</h6>
<div class="block">
  {{ command.username }}<ng-container *ngIf="command.origin">@{{ command.origin }}
  </ng-container>
</div>

<mat-divider style="margin-top: 1em; margin-bottom: 1em"></mat-divider>

<h6 style="padding-top: 0">Source</h6>
<div class="block">
  {{ command.source || '-' }}
</div>

<h6>Binary</h6>
<div class="block">
  <app-hex [base64String]="command.binary"></app-hex>
</div>

<ng-container *ngIf="command.comment">
  <mat-divider style="margin-top: 1em; margin-bottom: 1em"></mat-divider>
  <h6 style="padding-top: 0">Comment</h6>
  <div class="block">
    {{ command.comment }}
  </div>
</ng-container>

<ng-container *ngIf="command.extra.length">
  <mat-divider style="margin-top: 1em; margin-bottom: 1em"></mat-divider>
  <h6 style="padding-top: 0">Extra Attributes</h6>
  <div class="block">
    <ul>
      <li *ngFor="let extra of command.extra">{{ extra.name }}: {{ extra.value }}</li>
    </ul>
  </div>
</ng-container>

<ng-container *ngIf="command.verifications.length">
  <mat-divider style="margin-top: 1em; margin-bottom: 1em"></mat-divider>
  <h6 style="padding-top: 0">Verifications</h6>
  <div class="block">
    <table yaDataTable style="width: 100%">
      <tr>
        <th style="width: 16px"></th>
        <th></th>
        <th>Status</th>
        <th>Time</th>
      </tr>
      <tr *ngFor="let ack of command.verifications">
        <td>
          <ng-container [ngSwitch]="ack.status">
            <ng-container *ngSwitchCase="'OK'">
              <mat-icon class="step success" style="margin-right: 8px">
                check_circle_outline
              </mat-icon>
            </ng-container>
            <ng-container *ngSwitchDefault>
              <mat-icon class="step alert" style="margin-right: 8px">
                highlight_off
              </mat-icon>
            </ng-container>
          </ng-container>
        </td>
        <td>{{ ack.name }}</td>
        <td>{{ ack.status }}</td>
        <td>
          <span [matTooltip]="ack.time">{{ ack.time | deltaWith:command.generationTime }}</span>
        </td>
      </tr>
    </table>
  </div>
</ng-container>

<mat-divider style="margin-top: 1em; margin-bottom: 1em"></mat-divider>
<h6 style="padding-top: 0">Completion</h6>
<div class="block">
  <ng-container *ngIf="command.completed && command.success">SUCCESS</ng-container>
  <ng-container *ngIf="command.completed && !command.success">
    FAILURE: {{ command.failureMessage }}
  </ng-container>
  <ng-container *ngIf="!command.completed">-</ng-container>
</div>
